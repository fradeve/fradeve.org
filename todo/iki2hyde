eseguire in ordine

## substitutes date tag
%s/\[\[!meta date="[0-9].*[0-9]"]]/created: !!timestamp '&'/g | %s/\[\[!meta date="//g | %s/"\]\]//g

## insert the opening YAML metadata line
0s/^/---\r/g

## insert the "tags" section opening
4s/^/tags:\r/g

## insert the closing YAML metadata line
5s/^/---\r/g

## insert the charset in post metadata
:4s/^/charset: utf-8\r/g

## substitutes title tag opening
find . -type f -print0 | xargs -0 sed -i 's|\[\[!meta title="|title: |g'

## substitutes all tag closure
find . -type f -print0 | xargs -0 sed -i 's|"\]\]| |g'

## install DirDo
## define dir onto apply the command
:DDD /home/fradeve/da_sostituire

## define file pattern
:DDP *.html

## apply the command
:DDO [one of previous commands] | update


### macro to move [[!tag ]] lines in yaml post's metadata
/[[!tag^M:s/\[\[!tag/-/^M:s/\]\]//g^M:s/^/    /g^MVd:4^Mp

### macro to insert " arount title
:goto 12^Mi"^[A"^[

## procedura
1 - avviare una istanza di VIM su uno dei file del blog e registrare la macro, anche senza salvare il file
2 - impostare i parametri di DirDo ed eseguire il comando :DDO @d | update
