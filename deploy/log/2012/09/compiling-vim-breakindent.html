<!doctype html>
<!-- https://github.com/paulirish/html5-boilerplate/blob/master/index.html -->
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">

  <!-- encoding must be specified within the first 512 bytes
        www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#charset -->

  <!-- meta element for compatibility mode needs to be before
        all elements except title & meta
        msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx -->
  <!-- Chrome Frame is only invoked if meta element for
        compatibility mode is within the first 1K bytes
        code.google.com/p/chromium/issues/detail?id=23003 -->

  <title>Compiling VIM with Breakindent patch</title>
  <meta name="description" content="">
  <meta name="author" content="Francesco de Virgilio">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="">

    <!-- Place favicon.ico & apple-touch-icon.png
        in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    <link rel="stylesheet" href="/media/css/site.css">
  <link rel="stylesheet" href="/media/css/syntax.css">
  
    <!-- All JavaScript at the bottom, except for Modernizr which
        enables HTML5 elements & feature detects -->
   <script src="/media/js/libs/modernizr-1.7.min.js"></script>
    </head>
<body id="compiling-vim-breakindent">
                  <div id="main" role="main">

          <header class="clearfix">
          </header>

          <section class="content">
          <article>

<h1 class="title">
    <a href="/log/2012/09/compiling-vim-breakindent.html">
        Compiling VIM with Breakindent patch
    </a>
</h1>

<time datetime="2012-09-10">
    Posted on 10 Sep 2012
</time>
<br>
<tags>tags:
	<a href="/tags/vim.html">vim</a> 
</tags>

<h6 class="description">
    <a href="/log/2012/09/compiling-vim-breakindent.html">
        
    </a>
</h6>

<p><a href="https://retracile.net/wiki/VimBreakIndent"><span class="caps">VIM</span> Breakindent patch</a>&#8216;s story is quite frustrating, since it is a nice piece of code (really useful when you work with tag-like structured coding languages, e.g. LaTeX) but it has been <a href="https://groups.google.com/forum/#!msg/vim_dev/VdMLVy_ZS2I/KsRNkREcBhgJ">never integrated in standard <span class="caps">VIM</span></a> due to some instability issues. In 2012, you always have to patch and compile <span class="caps">VIM</span> manually to get it working. This guide has been tested on Ubuntu 12.04 (many thanks to <a href="">ephemient</a> for pointing out the correct procedure, as a result of a <a href="">discussion</a> on&nbsp;Stackexchange).</p>
<p>Get the&nbsp;sources:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">sources</span> <span class="n">vim</span>
</pre></div>


<p>Download <span class="caps">VIM</span> breakindent patch&nbsp;file:</p>
<div class="codehilite"><pre><span class="n">wget</span>
</pre></div>


<p>Set permissions on the sources and move the patch into the set of Debian&nbsp;patches:</p>
<div class="codehilite"><pre><span class="n">cd</span> <span class="n">vim</span><span class="o">-</span>7<span class="p">.</span>3<span class="p">.</span>429
<span class="n">sudo</span> <span class="n">chmod</span> <span class="n">u</span><span class="p">=</span><span class="n">rw</span><span class="p">,</span><span class="n">g</span><span class="p">=</span><span class="n">r</span><span class="p">,</span><span class="n">o</span><span class="p">=</span><span class="n">r</span> <span class="p">.</span><span class="o">./</span><span class="n">vim</span><span class="o">-</span><span class="n">breakindent</span><span class="p">.</span><span class="n">patch</span>
<span class="n">sudo</span> <span class="n">cp</span> <span class="p">.</span><span class="o">./</span><span class="n">vim</span><span class="o">-</span><span class="n">breakindent</span><span class="p">.</span><span class="n">patch</span> <span class="n">debian</span><span class="o">/</span><span class="n">patches</span><span class="o">/</span><span class="n">debian</span><span class="o">/</span><span class="p">.</span>
</pre></div>


<p>Add one new entry in <code>debian/changelog</code>, bumping version from <code>vim_7.3.429-2ubuntu2.1</code> to <code>vim_7.3.429-2ubuntu2.2</code>.</p>
<p>Add <code>debian/vim-breakindent.patch</code> at the end of <code>debian/patches/series</code></p>
<p>Generate new source&nbsp;package</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">pdebuild</span>
</pre></div>


<p>Compile the new <code>.dsc</code>:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">pbuilder</span> <span class="n">build</span> <span class="n">vim_7</span><span class="p">.</span>3<span class="p">.</span>429<span class="o">-</span>2<span class="n">ubuntu2</span><span class="p">.</span>2<span class="p">.</span><span class="n">dsc</span>
</pre></div>


<p>Install new&nbsp;debs:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="nb">i</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">pbuilder</span><span class="o">/</span><span class="n">result</span><span class="o">/*</span><span class="p">.</span><span class="n">deb</span>
</pre></div>


<h3 id="debian-package">Debian&nbsp;package</h3>
<p>As I write, <a href="http://stackoverflow.com/users/761090/eudoxos">Eudoxos</a> is maintaining a <a href="https://launchpad.net/~eudoxos/+archive/ppa">Launchpad repository</a> with Vim breakindent-patched compiled <code>.deb</code> packages.</p></article>
<div id="disqus_thread"></div>
	<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = 'fradeveorig'; // required: replace example with your forum shortname

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function() {
			var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          <footer>
          <!-- this website is proudly powered by <a href="http://www.python.org/">Python</a>,
          build with the static site generator <a href="http://hyde.github.com/">Hyde</a>, 
          source code hosted on <a href="https://github.com/fspaolo/">GitHub</a>,
	  and written using <a href="http://www.vim.org/">VIM</a>. -->
          </footer>
          </section>

          <div id="sidebar">
                              <nav class=nav>
    <ul>
                <li>
            <a title="About me and this site"
                class="about"
                href="/about">
                About</a>
        </li>        <li>
            <a title="Wow, a blog!"
                class="log"
                href="/log">
                Log</a>
        </li>        <li>
            <a title="Posts in Italian"
                class="log"
                href="/log/index_it.html">
                it</a>
        </li>        <li>
            <a title="Posts in English"
                class="log"
                href="/log/index_en.html">
                en</a>
        </li>        <li>
            <a title="Blog's tags"
                class="log"
                href="/tags">
                Tags</a>
        </li>        <li>
            <a title="Blog's feed"
                class="log"
                href="/atom.xml">
                Feed</a>
        </li>    </ul>
</nav>
                              </div>

          </div>
        
    <!-- Javascript at the bottom for fast page loading -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.5.1.min.js">\x3C/script>')</script>
  
    
  <!--[if lt IE 7 ]>
    <script src="js/libs/dd_belatedpng.js"></script>
    <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
  <![endif]-->

  <!--    -->

  </body>
</html>