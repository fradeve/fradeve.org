<!doctype html>
<!-- https://github.com/paulirish/html5-boilerplate/blob/master/index.html -->
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">

  <!-- encoding must be specified within the first 512 bytes
        www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#charset -->

  <!-- meta element for compatibility mode needs to be before
        all elements except title & meta
        msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx -->
  <!-- Chrome Frame is only invoked if meta element for
        compatibility mode is within the first 1K bytes
        code.google.com/p/chromium/issues/detail?id=23003 -->

  <title>Utilizzare LibreFM su Amarok</title>
  <meta name="description" content="">
  <meta name="author" content="Francesco de Virgilio">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="">

    <!-- Place favicon.ico & apple-touch-icon.png
        in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    <link rel="stylesheet" href="/media/css/site.css">
  <link rel="stylesheet" href="/media/css/syntax.css">
  
    <!-- All JavaScript at the bottom, except for Modernizr which
        enables HTML5 elements & feature detects -->
   <script src="/media/js/libs/modernizr-1.7.min.js"></script>
    </head>
<body id="librefm_in_amarok14">
                  <div id="main" role="main">

          <header class="clearfix">
          </header>

          <section class="content">
          <article>

<h1 class="title">
    <a href="/log/2010/11/librefm_in_amarok14.html">
        Utilizzare LibreFM su Amarok
    </a>
</h1>

<time datetime="2010-11-08">
    Posted on 08 Nov 2010
</time>
<br>
<tags>tags:
	<a href="/tags/amarok.html">amarok</a> 
</tags>

<h6 class="description">
    <a href="/log/2010/11/librefm_in_amarok14.html">
        
    </a>
</h6>

<p><a href="http://alpha.libre.fm/">LibreFM</a> è nato come &#8220;clone&#8221; (anche se molto immaturo) di <a href="http://www.lastfm.it/">LastFM</a>. Per il momento l&#8217;unico servizio offerto è quello dello <em>scrobbling</em>, ovvero le statistiche sulla musica ascoltata (che tra l&#8217;altro, per quanto ricordo, è l&#8217;unico servizio offerto gratuitamente anche da LastFM). Le mie statistiche personali, ad esempio, sono diponibili sul <a href="http://alpha.libre.fm/user/fradeve">mio profilo in LibreFM</a>. LibreFM è basato interamente su Software Libero, ed il sorgente del sistema è scaricabile dal sito ufficiale del progetto (che si chiama in realtà <a href="https://savannah.gnu.org/projects/librefm/"><span class="caps">GNUFM</span></a>). È possibile inviare le statistiche sulla propria musica a LastFM direttamente da Amarok e da altri programmi di riproduzione musicale, e con questo piccolo accorgimento sarà possibile invarle anche (o solo) verso&nbsp;LibreFM.</p>
<ul>
<li>
<p>Installare il pacchetto&nbsp;lastfmsubmitd</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">lastfmsubmitd</span>
</pre></div>


</li>
<li>
<p>Durante l&#8217;installazione, inserire il proprio nome utente e password di LibreFM e mantenere il gruppo &#8220;lastfm&#8221;, quindi&nbsp;confermare.</p>
</li>
<li>
<p>Dare i permessi di lettura/scrittura al file di configurazione di&nbsp;lastfmsubmitd:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">chmod</span> 777 <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">lastfmsubmitd</span><span class="p">.</span><span class="n">conf</span>
</pre></div>


</li>
<li>
<p>In linea di massima, bisogna assicurarsi che l&#8217;utente con il quale si utilizza il pc sia nel gruppo indicato durante l&#8217;installazione (<em>lastfm</em>), e che il suddetto gruppo sia proprietario della cartella nella quale vengono tenuti i log della musica ascoltata da inviare a Libre.fm (ma per quest&#8217;ultimo punto, dovrete attendere l&#8217;ultimo punto della&nbsp;guida).</p>
</li>
<li>
<p>Modificare il file <code>/etc/lastfmsubmitd.conf</code> e fare in modo che il risultato finale sia questo (inserendo ovviamente al posto degli asterischi nome utente e password del proprio account&nbsp;libre.fm):</p>
<div class="codehilite"><pre><span class="k">[server]</span>
<span class="na">url</span><span class="o">=</span><span class="s">http://turtle.libre.fm/</span>

<span class="k">[account]</span>
<span class="na">user</span> <span class="o">=</span> <span class="s">*****</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">*****</span>
</pre></div>


</li>
<li>
<p>Scaricare e installare il plugin per Amarok&nbsp;1.4:</p>
<div class="codehilite"><pre><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ebanana</span><span class="p">.</span><span class="n">orconhosting</span><span class="p">.</span><span class="n">net</span><span class="p">.</span><span class="n">nz</span><span class="o">/</span><span class="n">librefm</span><span class="p">.</span><span class="n">amarokscript</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
</pre></div>


</li>
</ul>
<p>Da amarok: Tools &#8212;&gt; Gestore script &#8212;&gt; Installa script &#8212;&gt; Selezionare il tar.gz appena scaricato &#8212;&gt;&nbsp;Esegui</p>
<ul>
<li>
<p>Impostare i permessi nelle cartelle con i log e l&#8217;accesso al gruppo selezionato durante&nbsp;l&#8217;installazione:</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">chown</span> <span class="p">:</span><span class="n">lastfm</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">lastfm</span><span class="o">/</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">lastfm</span><span class="o">/</span> <span class="o">-</span><span class="n">R</span>
<span class="n">sudo</span> <span class="n">chmod</span> <span class="o">-</span><span class="n">R</span> 775 <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">lastfm</span><span class="o">/</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">spool</span><span class="o">/</span><span class="n">lastfm</span><span class="o">/</span>
</pre></div>


</li>
<li>
<p>Fare in modo che lastfmsubmitd si avvii automaticamente all&#8217;ingresso in Ubuntu, inserendo una voce in &#8220;Applicazioni d&#8217;Avvio&#8221;: Sistema &#8212;&gt; Preferenze &#8212;&gt; Applicazioni d&#8217;avvio &#8212;&gt;&nbsp;Aggiungi</p>
<div class="codehilite"><pre><span class="n">Nome</span><span class="o">:</span> <span class="n">lastfmsubmitd</span>
<span class="n">Comando</span><span class="o">:</span> <span class="sr">/usr/bin/</span><span class="n">lastfmsubmitd</span>
<span class="n">Commento</span><span class="o">:</span> <span class="n">qualsiasi</span> <span class="n">cosa</span>
</pre></div>


</li>
</ul>
<h2 id="amarok-2">Amarok&nbsp;2</h2>
<p>Seguire esattamente la stessa procedura; lo script da installare si chiama <a href="http://kde-apps.org/content/show.php/Amarok2LibreFM?content=107339">Amarok2LibreFm</a>. Un consiglio: se avete lo script attivo, evitate nella maniera più assoluta di usare il player youtube integrato in Amarok 2 per guardare video del brano che state ascoltando, perché lo script registra i dati del video, la cui sintassi però non corrisponde a quella accettata nel database di Libre.fm, per cui da quel momento in poi nessuna canzone verrà inviata al sito. Ho testato personalmente il problema e sono stato costretto a cancellare un paio di registrazioni dal log in <code>/var/log/lastfm/</code>. Per ulteriori info sul funzionamento per Amarok 2, consultare la <a href="http://userbase.kde.org/Amarok/Scrobbling_to_Libre.fm">pagina apposita</a> sul wiki di&nbsp;Amarok.</p>
<p>Buono&nbsp;scrobbling!</p></article>
<div id="disqus_thread" ></div>
<style>
/* remove unnecessary disqus cruft from view */
.dsq-comment-header{background:none !important; border:none !important;}
.dsq-post-tools, .dsq-button, .dsq-textarea-background{ background:none !important;}
#dsq-like-thread-button .dsq-toolbar-label, #dsq-subscribe, #dsq-sort-select, .dsq-trackback-url, .dsq-brlink {display:none !important;}
</style>
<script type="text/javascript">
        var disqus_developer = 1; // developer mode is on
        var disqus_shortname = 'jseabold';
    var disqus_identifier = "log/2010/11/librefm_in_amarok14.html";
    var disqus_url = "http://jseabold.netlog/2010/11/librefm_in_amarok14.html";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
          <footer>
          <!-- this website is proudly powered by <a href="http://www.python.org/">Python</a>,
          build with the static site generator <a href="http://hyde.github.com/">Hyde</a>, 
          source code hosted on <a href="https://github.com/fspaolo/">GitHub</a>,
	  and written using <a href="http://www.vim.org/">VIM</a>. -->
          </footer>
          </section>

          <div id="sidebar">
                              <nav class=nav>
    <ul>
                <li>
            <a title="About me and this site"
                class="about"
                href="/about">
                About</a>
        </li>        <li>
            <a title="Wow, a blog!"
                class="log"
                href="/log">
                Log</a>
        </li>        <li>
            <a title="Blog's tags"
                class="log"
                href="/tags">
                Tags</a>
        </li>        <li>
            <a title="Blog's feed"
                class="log"
                href="/atom.xml">
                Feed</a>
        </li>        <li>
            <a title="Research projects"
                class="research"
                href="/research">
                Research</a>
        </li>    </ul>
</nav>
                              </div>

          </div>
        
    <!-- Javascript at the bottom for fast page loading -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.5.1.min.js">\x3C/script>')</script>
  
    
  <!--[if lt IE 7 ]>
    <script src="js/libs/dd_belatedpng.js"></script>
    <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
  <![endif]-->

  <!--    -->

  </body>
</html>