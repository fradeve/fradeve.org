<!doctype html>
<!-- https://github.com/paulirish/html5-boilerplate/blob/master/index.html -->
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">

  <!-- encoding must be specified within the first 512 bytes
        www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#charset -->

  <!-- meta element for compatibility mode needs to be before
        all elements except title & meta
        msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx -->
  <!-- Chrome Frame is only invoked if meta element for
        compatibility mode is within the first 1K bytes
        code.google.com/p/chromium/issues/detail?id=23003 -->

  <title>Youtube-dl: interfaccia per il programma da repo</title>
  <meta name="description" content="">
  <meta name="author" content="Francesco de Virgilio">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="">

    <!-- Place favicon.ico & apple-touch-icon.png
        in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    <link rel="stylesheet" href="/media/css/site.css">
  <link rel="stylesheet" href="/media/css/syntax.css">
  
    <!-- All JavaScript at the bottom, except for Modernizr which
        enables HTML5 elements & feature detects -->
   <script src="/media/js/libs/modernizr-1.7.min.js"></script>
    </head>
<body id="youtube-dl-interfaccia-per-il-programma-da-repo">
                  <div id="main" role="main">

          <header class="clearfix">
          </header>

          <section class="content">
          <article>

<h1 class="title">
    <a href="/log/2007/10/youtube-dl-interfaccia-per-il-programma-da-repo.html">
        Youtube-dl: interfaccia per il programma da repo
    </a>
</h1>

<time datetime="2007-10-25">
    Posted on 25 Oct 2007
</time>
<br>
<tags>tags:
	<a href="/tags/ubuntu.html">ubuntu</a> 
</tags>

<h6 class="description">
    <a href="/log/2007/10/youtube-dl-interfaccia-per-il-programma-da-repo.html">
        
    </a>
</h6>

<p>Oggi vorrei parlarvi di un piccolo ma utilissimo
software creato da un amico, <a href="http://contalbodavide.blogspot.com/">Davide Contalbo</a>. Si chiama Youtube-dl e, come avrete intuito, serve a scaricare i filmati dal nostro sito di
videostreaming flash preferito. Notare che Youtube-dl e anche il nome del
pacchetto che svolge la stessa funzione, presente nei repository di Ubuntu. La
differenza tra questo pacchetto e lo script scritto da Davide è che
quest&#8217;ultimo aggiunge (tramite Zenity) una amichevole ma intuitiva interfaccia
grafica al programma vero e proprio. Il programma, terminato il download,
permette anche di convertire il video in vari formati (mpeg, avi, 3gp,&nbsp;Wmv).</p>
<p>Ok, credo di aver parlato anche troppo, passiamo alla pratica. Installiamo le
dipendenze (ovvero i pacchetti <code>youtube-dl</code>, <code>zenity</code> ed <code>ffmpeg</code>). Da terminale, diamo
un&nbsp;bel</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">nano</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtube</span><span class="o">-</span><span class="n">dl</span>
</pre></div>


<p>Incolliamo lo script vero e&nbsp;proprio</p>
<p>[[!format sh&nbsp;&#8221;&#8220;&#8221;</p>
<h1 id="binbash">!/bin/bash</h1>
<h1 id="funzione-che-configura-il-terminale-da-usare">Funzione che configura il terminale da&nbsp;usare</h1>
<p>function config {
cd ~/Desktop
msg=<code>zenity --title="XBackup" --list --text="Ridurre le notifiche e i messaggi di informazioni?" --radiolist  --column="Scegli" --column="Abilita" false "Si" false "No"</code>
if /%24msg%20%3D%20%22Si%22;
then
msg=1;
elif /%24msg%20%3D%20%22No%22;
then
msg=0;
else
zenity &#8212;error &#8212;title=&#8221;XBackup - Errore&#8221; &#8212;text=&#8221;Nessuna scelta effettuata - Uscita inattesa&#8221;
exit 1;&nbsp;fi</p>
<p>de=<code>zenity --title="Youtube-DL" --text="Quale DE utilizzate tra questi sottostanti?" --list --radiolist  --column="Scegli" --column="Desktop Environment" false "Gnome" false "Kde" false "Xfce"</code>
if /%24de%20%3D%20%22Gnome%22
then
if /%24msg%20-eq%200
then
zenity &#8212;info &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Ambiente Grafico Gnome&#8221;
else
sleep 1;
fi
terminal=&#8221;gnome-terminal -x&#8221;
elif /%24de%20%3D%20%22Kde%22;
then
if /%24msg%20-eq%200
then
zenity &#8212;info &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Ambiente Grafico Kde&#8221;
else
sleep 1;
fi
terminal=&#8221;konsole -e&#8221;
elif /%24de%20%3D%20%22Xfce%22;
then
if /%24msg%20-eq%200
then
zenity &#8212;info &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Ambiente Grafico Xfce&#8221;
else
sleep 1;
fi
terminal=&#8221;xfce-terminal -x&#8221;
else
zenity &#8212;error &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Errore&#8221; &#8212;text=&#8221;Nessuna scelta effettuata - Uscita inattesa&#8221;
exit 1;
fi&nbsp;}</p>
<h1 id="funzione-che-permette-di-convertire-i-file-flv-nei-formati-richiesti">Funzione che permette di convertire i file flv nei formati&nbsp;richiesti</h1>
<p>function trasform {
formato=<code>zenity --width=300 --height=300  --title="Youtube-DL" --list --radiolist  --text="In quale formato deve essere trasformato il tuo video?" --column="Scegli" --column="Formati" false "3gp"  false "Wmv" false "Mpeg" false "Avi" false "Ogg"</code>
zenity  &#8212;info &#8211;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Adesso verrà aperto un terminale che serve al programma per trasformare il file nel formato desiderato&#8221;
if /%24formato%20%3D%20%223gp%22
then
$terminal ffmpeg -i tmp_file.flv -s 176x144 -r 15.0 -b 80k -vcodec h263 -ar 8000 -ac 1 -acodec amr_nb -y ${video_name}.3gp
if /%24msg%20-eq%200
then
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;File ${video_name}.3gp creato - Rilanciare il software per trasformarlo in un altro formato&#8221;
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Grazie per aver usato il software&#8221;
else
sleep 1;
fi
elif /%24formato%20%3D%20%22Wmv%22;
then
if /%24msg%20-eq%200
then
$terminal ffmpeg -i tmp_file.flv ${video_name}.wmv
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;File ${video_name}.wmv creato - Rilanciare il software per trasformarlo in un altro formato&#8221;
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Grazie per aver usato il software&#8221;
else
sleep 1;
fi
elif /%24formato%20%3D%20%22Avi%22;
then
$terminal ffmpeg -i tmp_file.flv ${video_name}.avi
if /%24msg%20-eq%200
then
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;File ${video_name}.avi creato - Rilanciare il software per trasformarlo in un altro formato&#8221;
$terminal zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Grazie per aver usato il software&#8221;
else
sleep 1;
fi
elif /%24formato%20%3D%20%22Mpeg%22;
then
if /%24msg%20-eq%200
then
ffmpeg -i tmp_file.flv ${video_name}.mpg
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;File ${video_name}.mpg creato - Rilanciare il software per trasformarlo in un altro formato&#8221;
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Grazie per aver usato il software&#8221;
else
sleep 1;
fi
elif /%24formato%20%3D%20%22Ogg%22;
then
if /%24msg%20-eq%200
then
ffmpeg -i tmp_file.flv ${video_name}.ogg
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;File ${video_name}.ogg creato - Rilanciare il software per trasformarlo in un altro formato&#8221;
zenity &#8212;info  &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Grazie per aver usato il software&#8221;
else
sleep 1;
fi
else
zenity &#8212;error &#8212;width=300  &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Errore&#8221; &#8212;text=&#8221;Nessuna scelta effettuata - Uscita inattesa&#8221;
exit 1;
fi&nbsp;}</p>
<h1 id="menu-principale-e-cuore-del-programma"><span class="caps">MENU</span> <span class="caps">PRINCIPALE</span> e cuore del&nbsp;programma</h1>
<p>zenity &#8212;info &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span>&#8221; &#8212;text &#8220;Programma per scaricare i video da YouTube e trasformarli vari formati&#8221;
config
find tmp_file.flv
if /%24%3F%20-eq%200;
then
   zenity &#8212;info &#8212;width=300 &#8212;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text &#8220;File già scaricato                 &#8221;
video_name=<code>zenity --entry --title="Youtube-DL" --text "Inserisci il nome che vuoi dargli (senza estensione)"</code>
else</p>
<p>video_url=<code>zenity --entry --title="Youtube-DL" --text "Inserisci l'url del video da YouTube"</code>
video_name=<code>zenity --entry --title="Youtube-DL" --text "Inserisci il nome che vuoi dargli (senza estensione)"</code>
zenity  &#8212;info &#8211;title=&#8221;Youtube-<span class="caps">DL</span> - Informazioni&#8221; &#8212;text=&#8221;Adesso verrà aperto un terminale che serve al programma per scaricare il file nel formato flv&#8221;
$terminal youtube-dl -o tmp_file.flv  $video_url
fi
trasform
rm tmp_file.flv&nbsp;&#8221;&#8220;</p>
<p>Sempre da terminale, eseguire il&nbsp;comando</p>
<div class="codehilite"><pre><span class="n">sudo</span> <span class="n">chmod</span> <span class="n">a</span><span class="o">+</span><span class="n">x</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">youtube</span><span class="o">-</span><span class="n">d</span>
</pre></div>


<p>Si potrà eseguire il programma con il comando da terminale&nbsp;youtube-dl</p>
<h2 id="osservazioni">Osservazioni</h2>
<p>Purtroppo, qualche
perfezionamento andrebbe inserito: non sarebbe una cattiva idea affiancare
quei formati video proprietari con un sano .ogg, e forse si potrebbero ridurre
al minimo le conferme sulle azioni svolte. Comunque, rimane uno script molto
efficace, che va dritto all&#8217;obiettivo ;) Una nota di merito: al contrario di
Gentube (altro famoso programma che svolge la stessa funzione), tutti i file
di configurazione e temporanei necessari all&#8217;esecuzione di questo script
(presenti in Home) vengono cancellati al termine del programma. Buon&nbsp;divertimento!</p></article>
<div id="disqus_thread" ></div>
<style>
/* remove unnecessary disqus cruft from view */
.dsq-comment-header{background:none !important; border:none !important;}
.dsq-post-tools, .dsq-button, .dsq-textarea-background{ background:none !important;}
#dsq-like-thread-button .dsq-toolbar-label, #dsq-subscribe, #dsq-sort-select, .dsq-trackback-url, .dsq-brlink {display:none !important;}
</style>
<script type="text/javascript">
        var disqus_developer = 1; // developer mode is on
        var disqus_shortname = 'fradeveorig';
    var disqus_identifier = "log/2007/10/youtube-dl-interfaccia-per-il-programma-da-repo.html";
    var disqus_url = "http://fradeve.orglog/2007/10/youtube-dl-interfaccia-per-il-programma-da-repo.html";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
          <footer>
          <!-- this website is proudly powered by <a href="http://www.python.org/">Python</a>,
          build with the static site generator <a href="http://hyde.github.com/">Hyde</a>, 
          source code hosted on <a href="https://github.com/fspaolo/">GitHub</a>,
	  and written using <a href="http://www.vim.org/">VIM</a>. -->
          </footer>
          </section>

          <div id="sidebar">
                              <nav class=nav>
    <ul>
                <li>
            <a title="About me and this site"
                class="about"
                href="/about">
                About</a>
        </li>        <li>
            <a title="Wow, a blog!"
                class="log"
                href="/log">
                Log</a>
        </li>        <li>
            <a title="Posts in Italian"
                class="log"
                href="/log/index_it.html">
                it</a>
        </li>        <li>
            <a title="Posts in English"
                class="log"
                href="/log/index_en.html">
                en</a>
        </li>        <li>
            <a title="Blog's tags"
                class="log"
                href="/tags">
                Tags</a>
        </li>        <li>
            <a title="Blog's feed"
                class="log"
                href="/atom.xml">
                Feed</a>
        </li>    </ul>
</nav>
                              </div>

          </div>
        
    <!-- Javascript at the bottom for fast page loading -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.5.1.min.js">\x3C/script>')</script>
  
    
  <!--[if lt IE 7 ]>
    <script src="js/libs/dd_belatedpng.js"></script>
    <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
  <![endif]-->

  <!--    -->

  </body>
</html>